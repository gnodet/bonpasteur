{#include partials/paroisse/layout.html}
  {#insert content}
    <!-- Section Hero avec photo pleine largeur -->
    {#if page.data.hero_image?? and page.data.hero_title??}
    <section class="hero-section" role="banner">
        <div class="hero-image-container">
            <img
                src="{site.url}{page.data.hero_image}"
                alt="{page.title}"
                class="hero-image"
                loading="eager"
                decoding="async"
            />
            <div class="hero-overlay">
                <div class="hero-content">
                    <h1 class="hero-title" id="hero-title">{page.data.hero_title}</h1>
                    {#if page.data.hero_subtitle??}
                    <p class="hero-subtitle">{page.data.hero_subtitle}</p>
                    {/if}
                </div>
            </div>
        </div>
    </section>
    {#else}
    <!-- Fallback si pas d'image hero -->
    <div class="hero-section">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 mb-4">{page.title}</h1>
            {#if page.description}
            <p class="lead mb-4">{page.description}</p>
            {/if}
          </div>
        </div>
      </div>
    </div>
    {/if}
    
    <!-- Contenu principal -->
    <div class="container my-5">
      <div class="row">
        <div class="col-12">
          {#insert /}
        </div>
      </div>
    </div>
    
    <!-- Scripts Google Maps -->
    <script>
        // Gestion des filtres
        function filterMarkers(type) {
            // Appeler la fonction du script clochers-map.js
            if (window.filterMarkers) {
                window.filterMarkers(type);
            }
            
            // Mettre à jour l'état des boutons
            document.querySelectorAll('.btn-group .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('filter-' + (type === 'église' ? 'eglise' : type));
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
        }
    </script>
    
    <!-- Script de la carte des clochers (chargé avant Google Maps) -->
    <script src="{site.url}static/js/clochers-map.js"></script>

    <!-- Google Maps API avec callback -->
    <!-- Note: Remplacez YOUR_API_KEY par votre clé API configurée pour localhost -->
    <script async defer
            src="https://maps.google.com/maps/api/js?key=YOUR_API_KEY&v=weekly&libraries=places&callback=initClochersMap">
    </script>
    
  {/insert}
{/include}
