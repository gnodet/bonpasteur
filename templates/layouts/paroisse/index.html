{#include partials/paroisse/layout.html}
  {#insert content}
    <!-- Section Hero avec photo pleine largeur -->
    {#if page.data.hero_image?? and page.title??}
    <section class="hero-section" role="banner">
        <div class="hero-image-container">
            <img
                src="{site.url}{page.data.hero_image}"
                alt="{page.title}"
                class="hero-image"
                loading="eager"
                decoding="async"
            />
            <div class="hero-overlay">
                <div class="hero-content">
                    <!-- Titre retiré de l'image hero -->
                </div>
            </div>
        </div>

        <!-- Boutons d'action hero -->
        <nav class="hero-buttons" role="navigation" aria-label="Actions principales">
            {#if cdi:hero-buttons.buttons}
                {#for button in cdi:hero-buttons.buttons}
                <a href="{site.url}{button.get('path')}" class="hero-btn" aria-label="{button.get('aria_label')}" title="{button.get('description')}">
                    <i class="{button.get('icon')}" aria-hidden="true"></i>
                    <span>{button.get('title')}</span>
                </a>
                {/for}
            {#else}
                <!-- Fallback si les données ne sont pas disponibles -->
                <a href="{site.url}infos/messes-horaires" class="hero-btn" aria-label="Consulter les horaires des messes">
                    <i class="fas fa-bell" aria-hidden="true"></i>
                    <span>Horaires Messes</span>
                </a>
                <a href="{site.url}demandes/bapteme" class="hero-btn" aria-label="Demander un baptême">
                    <i class="fas fa-hands-holding" aria-hidden="true"></i>
                    <span>Baptêmes</span>
                </a>
                <a href="{site.url}demandes/mariage" class="hero-btn" aria-label="Demander un mariage">
                    <i class="fas fa-ring" aria-hidden="true"></i>
                    <span>Mariages</span>
                </a>
            {/if}
        </nav>
    </section>
    {#else}
    <!-- Fallback si pas d'image hero -->
    <div class="hero-section">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 mb-4">{page.title}</h1>
            {#if page.description}
            <p class="lead mb-4">{page.description}</p>
            {/if}
          </div>
        </div>
      </div>
    </div>
    {/if}

    <!-- Contenu principal -->
    <div class="container my-5">
      {#insert /}
    </div>

    <!-- Navigation secondaire (si activée) -->
    {#if page.data.show_secondary_nav}
    <nav class="secondary-nav" role="navigation" aria-label="Navigation secondaire">
        <div class="container">
            <h2>Découvrir notre paroisse</h2>
            <div class="nav-grid">
                <a href="/eglises" class="nav-card">
                    <h3>Nos Églises</h3>
                    <p>Découvrez nos 23 lieux de culte</p>
                </a>
                <a href="/jeunesse" class="nav-card">
                    <h3>Jeunesse</h3>
                    <p>Activités pour les 0-25 ans</p>
                </a>
                <a href="/solidarite" class="nav-card">
                    <h3>Solidarité</h3>
                    <p>Actions caritatives et entraide</p>
                </a>
                <a href="/malades-et-aines" class="nav-card">
                    <h3>Malades et Aînés</h3>
                    <p>Accompagnement et visites</p>
                </a>
            </div>
        </div>
    </nav>
    {/if}
  {/insert}
{/include}
